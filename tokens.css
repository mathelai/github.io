/**
 * Design Tokens
 * Centralized design system for MathEL
 * Supports light/dark mode and system preferences
 */

:root {
  color-scheme: light dark;

  /* Typography - System font stack */
  --font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
                 "Helvetica Neue", Helvetica, Arial, sans-serif;
  --font-family-mono: ui-monospace, "SF Mono", Monaco, "Cascadia Code",
                      "Source Code Pro", Menlo, Consolas, monospace;

  /* Font sizes */
  --font-size-xs: 0.75rem;    /* 12px */
  --font-size-sm: 0.875rem;   /* 14px */
  --font-size-base: 1rem;     /* 16px */
  --font-size-lg: 1.125rem;   /* 18px */
  --font-size-xl: 1.25rem;    /* 20px */
  --font-size-2xl: 1.5rem;    /* 24px */
  --font-size-3xl: 1.875rem;  /* 30px */
  --font-size-4xl: 2.25rem;   /* 36px */

  /* Line heights */
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* Spacing - 8pt grid */
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */
  --space-16: 4rem;     /* 64px */

  /* Border radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
               0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
               0 4px 6px -2px rgba(0, 0, 0, 0.05);

  /* Light mode colors */
  --bg-primary: #ffffff;
  --bg-secondary: #f5f5f7;
  --bg-tertiary: #e5e5e7;

  --text-primary: #1d1d1f;
  --text-secondary: #6e6e73;
  --text-tertiary: #86868b;

  --border-primary: #d2d2d7;
  --border-secondary: #e5e5e7;

  --accent-primary: #0071e3;
  --accent-hover: #0077ed;
  --accent-active: #006edb;

  --success: #28a745;
  --warning: #ffc107;
  --error: #dc3545;

  --canvas-bg: #fafafa;
  --card-bg: #ffffff;
  --card-border: #e5e5e7;

  /* Focus outline */
  --focus-ring: 0 0 0 3px rgba(0, 113, 227, 0.25);
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #000000;
    --bg-secondary: #1c1c1e;
    --bg-tertiary: #2c2c2e;

    --text-primary: #f5f5f7;
    --text-secondary: #98989d;
    --text-tertiary: #6e6e73;

    --border-primary: #38383a;
    --border-secondary: #2c2c2e;

    --accent-primary: #0a84ff;
    --accent-hover: #409cff;
    --accent-active: #0077ed;

    --success: #30d158;
    --warning: #ffd60a;
    --error: #ff453a;

    --canvas-bg: #1c1c1e;
    --card-bg: #2c2c2e;
    --card-border: #38383a;

    --focus-ring: 0 0 0 3px rgba(10, 132, 255, 0.4);

    /* Adjust shadows for dark mode */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
                 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
                 0 4px 6px -2px rgba(0, 0, 0, 0.2);
  }
}

/* Explicit dark theme override */
[data-theme="dark"] {
  --bg-primary: #000000;
  --bg-secondary: #1c1c1e;
  --bg-tertiary: #2c2c2e;

  --text-primary: #f5f5f7;
  --text-secondary: #98989d;
  --text-tertiary: #6e6e73;

  --border-primary: #38383a;
  --border-secondary: #2c2c2e;

  --accent-primary: #0a84ff;
  --accent-hover: #409cff;
  --accent-active: #0077ed;

  --success: #30d158;
  --warning: #ffd60a;
  --error: #ff453a;

  --canvas-bg: #1c1c1e;
  --card-bg: #2c2c2e;
  --card-border: #38383a;

  --focus-ring: 0 0 0 3px rgba(10, 132, 255, 0.4);

  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
               0 2px 4px -1px rgba(0, 0, 0, 0.2);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
               0 4px 6px -2px rgba(0, 0, 0, 0.2);
}

/* Motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
